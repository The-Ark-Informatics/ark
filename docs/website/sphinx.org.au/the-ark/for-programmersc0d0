<?xml version="1.0" encoding="utf-8"?>
<!-- generator="Joomla! - Open Source Content Management" -->
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>For programmers</title>
		<description><![CDATA[The School of Population and Global Health Informatics Website]]></description>
		<link>https://sphinx.org.au/the-ark/for-programmers</link>
		<lastBuildDate>Fri, 03 Mar 2023 14:25:44 +1100</lastBuildDate>
		<generator>Joomla! - Open Source Content Management</generator>
		<atom:link rel="self" type="application/rss+xml" href="https://sphinx.org.au/the-ark/for-programmers?format=feed&amp;type=rss"/>
		<language>en-gb</language>
		<item>
			<title>Get the source code</title>
			<link>https://sphinx.org.au/the-ark/for-programmers/19-get-the-source-code</link>
			<guid isPermaLink="true">https://sphinx.org.au/the-ark/for-programmers/19-get-the-source-code</guid>
			<description><![CDATA[<p>The Ark's source code and documentation is hosted by GitHub at <a href="https://github.com/The-Ark-Informatics/ark" target="_blank">this location</a>. To check out the repository using <a href="https://git-scm.com/" target="_blank">Git</a>, issue the following command:</p>
<table style="background-color: #ededed;" cellpadding="5" align="center">
<tbody>
<tr>
<td style="text-align: left;">git clone <a href="https://github.com/The-Ark-Informatics/ark.git">https://github.com/The-Ark-Informatics/ark.git</a> TheArk</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>The source code can be modified and redistributed under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.en.html" target="_blank">GNU GPL v3 license</a>.</p>
<p>The Ark is built upon open source libraries and frameworks including Apache <a href="http://wicket.apache.org/" target="_blank">Wicket</a> and <a href="http://shiro.apache.org/" target="_blank">Shiro</a>, <a href="https://spring.io/" target="_blank">Spring</a> and <a href="http://hibernate.org/">Hibernate</a>. Pedigree visualisation is provided by integration with <a href="http://madeline.med.umich.edu/madeline/" target="_blank">Madeline</a>.</p>
<p>To become a member of the developer team and contribute to the project, please email <a href="mailto:travis.endersby@uwa.edu.au">Travis Endersby</a> or <a href="mailto:adrianb@unimelb.edu.au">Adrian Bickerstaffe</a>.</p>]]></description>
			<category>For programmers</category>
			<pubDate>Mon, 07 Mar 2016 03:16:58 +1100</pubDate>
		</item>
		<item>
			<title>Build a VM image using Vagrant</title>
			<link>https://sphinx.org.au/the-ark/for-programmers/17-vagrant</link>
			<guid isPermaLink="true">https://sphinx.org.au/the-ark/for-programmers/17-vagrant</guid>
			<description><![CDATA[<p>Vagrant is a tool that allows easily configurable, reproducible and portable development environments. It uses configuration files to manage a Virtual Machine (VM), and integrates with tools such as <a href="https://puppetlabs.com/" target="_blank">Puppet</a>&nbsp; or <a href="http://www.ansible.com/" target="_blank">Ansible</a> to provision the VM. We have used Vagrant and Puppet to create a VM on an Ubuntu 14.04 LTS base image, with Tomcat7, SLAPD and MySQL configured to create a ready-to-go Ark server.</p>
<p>These instructions have been tested on OSX, and Ubuntu Linux. Windows hosts are untested.</p>
<p>Before attempting to using <em>vagrant-ark</em>, you should be comfortable with the following topics:</p>
<ul>
<li>Using a command prompt</li>
<li>Virtual Machines and Virtualization</li>
<li>Version Control Systems, specifically git</li>
</ul>
<p>The <em>vagrant-ark</em> repository contains a submodule of The Ark Github repository (<a href="https://github.com/The-Ark-Informatics/ark">https://github.com/The-Ark-Informatics/ark</a>), and is pulled down with <strong>git clone --recursive</strong>. If you didnâ€™t clone using the recursive flag, you will need to run <strong>git submodule update --init --recursive</strong> to pull The Ark repository.</p>
<h3>Prerequisite Software</h3>
<ul>
<li><a href="https://www.virtualbox.org/" target="_blank">VirtualBox</a></li>
<li><a href="https://www.vagrantup.com/" target="_blank">Vagrant</a></li>
<li><a href="http://git-scm.com/" target="_blank">Git</a></li>
</ul>
<h3>Setup</h3>
<p>Recursively clone the vagrant-ark repository:</p>
<table style="background-color: #ededed; width: 460px; height: 31px;" cellpadding="5" align="center">
<tbody>
<tr>
<td style="text-align: center;">&nbsp;git clone --recursive <a>https://github.com/The-Ark-Informatics/vagrant-ark.git</a></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>Navigate into the vagrant-ark directory, then run the Virtual Machine:</p>
<table style="background-color: #ededed; width: 144px; height: 46px;" cellpadding="5" align="center">
<tbody>
<tr>
<td style="text-align: center;">
<div style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd vagrant-ark</div>
<div style="text-align: left;">&nbsp;&nbsp; &nbsp;&nbsp; vagrant up</div>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>The first time vagrant up is run, Vagrant will automatically provision the VM, installing and configuring all dependencies needed to run The Ark. &nbsp;</p>
<h3>Usage</h3>
<p>Once the VM is running, you can SSH into it via the vagrant ssh command from within the project directory. To access The Ark, navigate to&nbsp;<a href="http://192.168.33.10:8080/ark">http://192.168.33.10:8080/ark</a> in your browser.</p>
<p>For development use, there are two approaches to working with vagrant-ark.</p>
<ol>
<li>You can work directly on the code in the submodule, or</li>
<li>You can work on a copy of The Ark outside of vagrant-ark and copy the compiled WAR into the shared webapps directory.</li>
</ol>
<p>For approach 1, the code in src/ark will be recompiled and deployed if the image is provisioned again (i.e with <strong>vagrant up --provision</strong>), however database changes will persist throughout provisions.</p>
<p>With approach 2, Tomcat will automatically detect when the WAR file in the shared webapps directory has been modified, and will automatically redeploy it.</p>
<p>You should note that new or modified database patches will <strong>not</strong> be applied using either of the methods above, and should be managed independently.</p>
<h4>Users and Passwords</h4>
<p>The username and passwords for the services configured in <em>vagrant-ark</em> are listed below.</p>
<table border="1" class="GridTable4Accent1" style="border-collapse: collapse;" cellspacing="0" cellpadding="0" align="center">
<tbody>
<tr>
<td style="width: 70.65pt; border-width: 1pt medium 1pt 1pt; border-style: solid none solid solid; border-color: #5b9bd5 -moz-use-text-color #5b9bd5 #5b9bd5; background: #5b9bd5 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="71"><strong><span style="color: white;">Service</span></strong></td>
<td style="width: 191.35pt; border-width: 1pt medium; border-style: solid none; border-color: #5b9bd5 -moz-use-text-color; background: #5b9bd5 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="191"><strong><span style="color: white;">Account/Username</span></strong></td>
<td style="width: 188.5pt; border-width: 1pt 1pt 1pt medium; border-style: solid solid solid none; border-color: #5b9bd5 #5b9bd5 #5b9bd5 -moz-use-text-color; background: #5b9bd5 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="189"><strong><span style="color: white;">Password</span></strong></td>
</tr>
<tr>
<td style="width: 70.65pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color #9cc2e5 #9cc2e5; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="71"><strong>The Ark</strong></td>
<td style="width: 191.35pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="191"><a href="mailto:arksuperuser@ark.org.au">arksuperuser@ark.org.au</a></td>
<td style="width: 188.5pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="189">password</td>
</tr>
<tr>
<td style="width: 70.65pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color #9cc2e5 #9cc2e5; padding: 0cm 5.4pt;" valign="top" width="71"><strong>Linux User</strong></td>
<td style="width: 191.35pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; padding: 0cm 5.4pt;" valign="top" width="191">vagrant</td>
<td style="width: 188.5pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; padding: 0cm 5.4pt;" valign="top" width="189">vagrant</td>
</tr>
<tr>
<td style="width: 70.65pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color #9cc2e5 #9cc2e5; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="71"><strong>Slapd</strong></td>
<td style="width: 191.35pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="191">cn=admin,dc=the-ark,dc=org,dc=au</td>
<td style="width: 188.5pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; background: #deeaf6 none repeat scroll 0% 0%; padding: 0cm 5.4pt;" valign="top" width="189">password</td>
</tr>
<tr>
<td style="width: 70.65pt; border-width: medium 1pt 1pt; border-style: none solid solid; border-color: -moz-use-text-color #9cc2e5 #9cc2e5; padding: 0cm 5.4pt;" valign="top" width="71"><strong>MySQL</strong></td>
<td style="width: 191.35pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; padding: 0cm 5.4pt;" valign="top" width="191">root</td>
<td style="width: 188.5pt; border-width: medium 1pt 1pt medium; border-style: none solid solid none; border-color: -moz-use-text-color #9cc2e5 #9cc2e5 -moz-use-text-color; padding: 0cm 5.4pt;" valign="top" width="189">password</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>]]></description>
			<category>For programmers</category>
			<pubDate>Mon, 21 Mar 2016 23:56:41 +1100</pubDate>
		</item>
		<item>
			<title>Build The Ark using Docker</title>
			<link>https://sphinx.org.au/the-ark/for-programmers/9-build-the-ark-using-docker</link>
			<guid isPermaLink="true">https://sphinx.org.au/the-ark/for-programmers/9-build-the-ark-using-docker</guid>
			<description><![CDATA[<p>TheÂ <a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker</a> configuration supplied in The Ark repository allows quick and easy building of the system. This configuration has four containers defined; MySQL, LDAP (Slapd), Tomcat and Maven. The containers are integrated using <a href="https://www.docker.com/products/docker-compose" target="_blank" rel="noopener noreferrer">Docker Compose</a>.</p>
<p><em><strong>Note:</strong></em> at present, this process has only been tested and verified to work on Ubuntu 14.04LTS. We are working towards ensuring compatibility with other operating systems such as Microsoft Windows and Apple OSX.</p>
<h3>Prerequistite software</h3>
<ul>
<li><a href="https://www.docker.com/products/docker" target="_blank" rel="noopener noreferrer">Docker for your operating system (Windows, OSX, Linux)</a></li>
<li><a href="https://www.docker.com/products/docker-compose" target="_blank" rel="noopener noreferrer">Docker Compose</a></li>
</ul>
<p>Microsoft Windows and Apple OSX users should download "Docker for Windows" and "Docker for</p>
<h3>Usage</h3>
<p>Assuming the source code repository has been <a href="https://sphinx.org.au/the-ark/contact-us/16-the-ark/overview/29-get-the-source-code">checked out using Git</a> and that the Docker platform is running:</p>
<ol>
<li><span style="font-family: 'courier new', courier, monospace;">cd docker/</span></li>
<li><span style="font-family: 'courier new', courier, monospace;">docker-compose build</span></li>
<li><span style="font-family: 'courier new', courier, monospace;">docker-compose up</span></li>
</ol>
<h3>Extra Commands</h3>
<table style="border: 1px solid #c0c0c0;" cellpadding="5" align="center">
<tbody>
<tr>
<td style="border: 1px solid #c0c0c0; text-align: center; background-color: #f5f5f5;"><strong>Command</strong></td>
<td style="border: 1px solid #c0c0c0; text-align: center; width: 350px; background-color: #f5f5f5;"><strong>Usage</strong></td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">docker-compose up -d</span></td>
<td style="border: 1px solid #c0c0c0;">Starts the containers in daemon mode meaning that no logs are printed to <span style="font-family: 'courier new', courier, monospace;">STDOUT</span>.</td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">docker-compose down -v</span></td>
<td style="border: 1px solid #c0c0c0;">Tears down all containers, and deletes all of the associated storage volumes.</td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">docker exec -it &lt;containername&gt; /bin/bash</span></td>
<td style="border: 1px solid #c0c0c0;">Starts an interactive bash session within the container named <span style="font-family: 'courier new', courier, monospace;">&lt;containername&gt;</span><span style="font-family: andale mono,times;">.</span></td>
</tr>
</tbody>
</table>
<h3>Passwords</h3>
<p>The default passwords are contained in <a href="https://github.com/The-Ark-Informatics/ark/blob/master/docker/env_file">docker/env_file</a> and should be modified before the initial <span style="font-family: andale mono,times;">docker-compose up</span> command, as the services are configured in the first run of each container. Passwords can be changed by tearing down all containers and deleting their volumes, however this will also delete any data stored in the MySQL and LDAP containers.</p>
<h3>Configuration</h3>
<p>Inside <span style="font-family: 'courier new', courier, monospace;">docker/env_file</span>, the following Environment Variables can be set to configure the software inside each container:</p>
<table cellpadding="5" align="center">
<tbody>
<tr>
<td style="background-color: #f5f5f5; border: 1px solid #c0c0c0; text-align: center;"><strong>Environment Variable</strong></td>
<td style="background-color: #f5f5f5; border: 1px solid #c0c0c0; text-align: center;"><strong>Usage</strong></td>
<td style="background-color: #f5f5f5; border: 1px solid #c0c0c0; text-align: center;"><strong>Default Value</strong></td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">MYSQL_ROOT_PASSWORD</span></td>
<td style="border: 1px solid #c0c0c0;">Changes the MySQL root user password</td>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">mysql-password</span></td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">SLAPD_PASSWORD</span></td>
<td style="border: 1px solid #c0c0c0;">The password for the LDAP database</td>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">slapd-password</span></td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">ARK_USERNAME</span></td>
<td style="border: 1px solid #c0c0c0;">The Ark Superuser's username</td>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">arksuperuser@ark.org.au</span></td>
</tr>
<tr>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">ARK_SUPERUSER_PASSWORD</span></td>
<td style="border: 1px solid #c0c0c0;">The Ark Superuser's password</td>
<td style="border: 1px solid #c0c0c0;"><span style="font-family: 'courier new', courier, monospace;">Password_1</span></td>
</tr>
</tbody>
</table>
<h3>Explanation</h3>
<p>When <span style="font-family: 'courier new', courier, monospace;">docker-compose up</span> is called for the first time, all four containers are built and started. The Maven and MySQL containers begin their work, compiling the web application and importing the base database respectively, while the Tomcat and LDAP containers wait for the output of Maven. The LDAP container waits until the<span style="font-family: 'courier new', courier, monospace;"> ark-user-account</span> Jar has been created, as it is needed to populate the LDAP database with The Ark root account, and the Tomcat service waits until <span style="font-family: 'courier new', courier, monospace;">ark.war</span> has been created, before deploying it.</p>
<h3>Usage</h3>
<p>With <span style="font-family: 'courier new', courier, monospace;">docker-compose build</span>Â and <span style="font-family: 'courier new', courier, monospace;">docker-compose up</span>Â complete, The Ark will be accessible via <a href="http://localhost:8080/ark">http://localhost:8080/ark</a> in your browser. The SLAPD (LDAP) and MySQL (database) services are also available at localhost:389 and localhost:3306 respectively.</p>
<h3>Container-specific Quirks</h3>
<p>For the maven container, we mount <span style="font-family: 'courier new', courier, monospace;">~/.m2</span> to <span style="font-family: 'courier new', courier, monospace;">/root/.m2</span> so that all maven repositories are cached and the user's maven <span style="font-family: 'courier new', courier, monospace;">settings.xml</span> file applies.</p>]]></description>
			<category>For programmers</category>
			<pubDate>Wed, 27 Jul 2016 00:59:52 +1000</pubDate>
		</item>
	</channel>
</rss>
